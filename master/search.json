[{"path":"/articles/qicharts2.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Quality Improvement Charts","text":"Install stable version CRAN: install development version GitHub:","code":"install.packages('qicharts2') devtools::install_github('anhoej/qicharts2', build_vignettes = TRUE)"},{"path":"/articles/qicharts2.html","id":"your-first-run-and-control-charts","dir":"Articles","previous_headings":"","what":"Your first run and control charts","title":"Quality Improvement Charts","text":"Load qicharts2 generate random numbers play : Make run chart:  Make control chart:  Run charts control charts point--line graphs showing measures counts time. horizontal line represents process centre expressed either median (run charts) mean (control charts). addition, control charts visualise limits natural variation inherent process. way limits computed, often referred 3-sigma limits (see Appendix 1). terms 3-sigma limits control limits natural process limits.","code":"# Load qicharts2 library(qicharts2)  # Lock random number generator to make examples reproducible. set.seed(19)  # Generate 24 random numbers from a normal distribution. y <- rnorm(24) qic(y) qic(y, chart = 'i')"},{"path":"/articles/qicharts2.html","id":"understanding-variation","dir":"Articles","previous_headings":"","what":"Understanding variation","title":"Quality Improvement Charts","text":"SPC application statistical thinking statistical tools continuous quality improvement. Central SPC understanding process variation time. purpose analysing process data know change occurs can take appropriate action. However, numbers may change even process stays (vice versa). distinguish changes numbers represent change underlying process essentially noise? Walther . Shewhart, founded SPC, described two types variation, chance cause variation assignable cause variation. Today, terms common cause special cause variation commonly used. Common cause variation also called natural/random variation noise, present processes, caused phenomena always present within system, makes process predictable within limits. Special cause variation also called non-random variation signal, present processes, caused phenomena normally present system, makes process unpredictable. process said predictable , use past experience, can describe, least within limits, process behave future. Donald J. Wheeler. Understanding Variation, 2. ed., p 153 overall purpose SPC charts tell two types variation apart.","code":""},{"path":"/articles/qicharts2.html","id":"testing-for-special-cause-variation","dir":"Articles","previous_headings":"","what":"Testing for special cause variation","title":"Quality Improvement Charts","text":"expected random numbers, previous run control charts exhibit common cause variation. Special cause variation, present, may found statistical tests identify patterns data unlikely result pure chance.","code":""},{"path":"/articles/qicharts2.html","id":"shewharts-3-sigma-rule","dir":"Articles","previous_headings":"Testing for special cause variation","what":"Shewhart’s 3-sigma rule","title":"Quality Improvement Charts","text":"Shewhart devised one test identify special cause variation, 3-sigma rule, signals one data points fall outside 3-sigma limits. 3-sigma rule effective detecting larger (> 2SD) shifts data.  However, minor moderate shifts may go unnoticed 3-sigma rule long periods time.  Therefore, many additional tests proposed increase sensitivity non-random variation. important realise may tempting apply tests order increase sensitivity chart, test increase risk false signals, thereby reducing specificity chart. choice many tests apply therefore critical.","code":"# Simulate a special cause to y in the form of a large, transient shift of 4 standard deviations. y[22] <- 4  qic(y, chart = 'i') # Simulate a special cause to y in the form of a moderate, persistent shift of 2 standard deviations. y[13:24] <- rnorm(12, mean = 2)  qic(y, chart = 'i')"},{"path":"/articles/qicharts2.html","id":"the-western-electric-rules","dir":"Articles","previous_headings":"Testing for special cause variation","what":"The Western Electric rules","title":"Quality Improvement Charts","text":"best known tests non-random variation probably Western Electric Rules described Statistical Quality Control Handbook (Western Electric Company 1956). rules consist four simple tests can applied control charts visual inspection based identification unusual patterns distribution data points relative control centre lines. One points outside 3-sigma limits (Shewhart’s original 3-sigma rule). Two three successive points beyond 2-sigma limit (two thirds distance centre line control line). Four five successive points beyond 1-sigma limit. run eight successive points one side centre line. rules proven worth half century. One thing notice rules effective control charts 20 30 data points. fewer data points, lose sensitivity (false negatives), data points lose specificity (false positives).","code":""},{"path":"/articles/qicharts2.html","id":"the-anhøj-rules","dir":"Articles","previous_headings":"Testing for special cause variation","what":"The Anhøj rules","title":"Quality Improvement Charts","text":"least known tests non-random variation probably Anhøj rules, proposed validated two recent publications (Anhøj 2014, Anhøj 2015). Anhøj rules core qicharts2, consist two tests based solely distribution data points relation centre line: Unusually long runs: run one consecutive data points side centre line. Data points fall centre line neither break contribute run. upper 95% prediction limit longest run approximately log2(n)+3log_2(n)+3 (rounded nearest integer), nn number useful data points. example, run chart 24 data points run round(log2(24) + 3) = 8 suggest shift process. Unusually crossings: crossing two consecutive data points opposite sides centre line. random process, number crossings binomial distribution, b(n−1,0.5)b(n-1,0.5). lower 5% prediction limit number crossings found using qbinom(p = 0.05, size = n - 1, prob = 0.5). Thus, run chart 24 useful data points, fewer qbinom(0.05, 24 - 1, 0.5) = 8 crossings suggest process shifting. Critical values longest runs number crossings 10 – 100 data points tabulated Appendix 2. Apart comparable sensitivity specificity rules 2-4 20-30 data points, Anhøj rules advantages: depend sigma limits thus useful stand-alone rules run charts. adapt dynamically number available data points, can applied charts 10 indefinitely many data points without losing sensitivity specificity. previous control chart, shift 2 standard deviations introduced halfway process. shift small picked 3-sigma rule, Anhøj rules detect signal. longest run includes 13 data points (upper limit = 8), number crossings 4 (lower limit = 8). Note shift also picked rule 4. Non-random variation found Anhøj rules visualised qic() using red dashed centre line. parameters analysis available using summary() function qic object. See ?summary.qic details. Many additional tests special cause variation proposed since Shewhart invented 3-sigma rule, many tests currently used. However, tests applied analysis, higher risk false signals. qicharts2 takes conservative approach applying three tests, 3-sigma rule two Anhøj rules. means signal qic() likely represents significant change underlying process.","code":"# Save qic object to o o <- qic(y, chart = 'i')  # Print summary data frame summary(o) #>   facet1 facet2 part n.obs n.useful longest.run longest.run.max n.crossings #> 1      1      1    1    24       24          13               8           4 #>   n.crossings.min runs.signal      aLCL   aLCL.95       CL  aUCL.95     aUCL #> 1               8           1 -2.114884 -1.057559 1.057091 3.171742 4.229067 #>   sigma.signal #> 1            0"},{"path":"/articles/qicharts2.html","id":"choosing-the-right-control-chart","dir":"Articles","previous_headings":"","what":"Choosing the right control chart","title":"Quality Improvement Charts","text":"default, qic() produces run charts. make control chart, chart argument must specified. one type run chart, many types control charts. type uses assumed probability model compute 3-sigma limits. qic() includes eleven control charts. recommend always begin analysis “assumption free” run chart. Anhøj rules find non-random variation, makes sense compute 3-sigma limits based assumptions regarding location dispersion data, figures meaningless one shifts already identified. years, developed increasing affection much-neglected run chart: time plot process data median drawn reference (yes, median – average). “filter . 1” process data answers question: “process least one shift time period?” (generally signaled clump eight consecutive data points either median.) , makes sense control chart time overall average data doesn’t exist. (Sort like: put right foot bucket boiling water left foot bucket ice water, average, ’m pretty comfortable.) Davis Balestracci. Quality Digest 2014","code":""},{"path":"/articles/qicharts2.html","id":"case-1-patient-harm","dir":"Articles","previous_headings":"","what":"Case 1: Patient harm","title":"Quality Improvement Charts","text":"gtt dataset contains data patient harm hospitalisation. Harm defined unintended physical injury resulting treatment care hospitalisation result disease . Global Trigger Tool methodology detection adverse events hospital patients using retrospective record review approach. month random sample 20 patient records reviewed number adverse events patient days found sample counted. See ?gtt details.","code":"head(gtt) #>   admission_id admission_dte discharge_dte      month days harms              E #> 1            1    2010-01-02    2010-01-03 2010-01-01    2     0           <NA> #> 2            2    2009-12-24    2010-01-06 2010-01-01   14     2 Pressure ulcer #> 3            3    2009-12-28    2010-01-07 2010-01-01   11     0           <NA> #> 4            4    2010-01-05    2010-01-08 2010-01-01    4     0           <NA> #> 5            5    2010-01-05    2010-01-08 2010-01-01    4     0           <NA> #> 6            6    2010-01-05    2010-01-11 2010-01-01    7     0           <NA> #>                  F    G    H    I #> 1             <NA> <NA> <NA> <NA> #> 2 Gastrointestinal <NA> <NA> <NA> #> 3             <NA> <NA> <NA> <NA> #> 4             <NA> <NA> <NA> <NA> #> 5             <NA> <NA> <NA> <NA> #> 6             <NA> <NA> <NA> <NA>"},{"path":"/articles/qicharts2.html","id":"run-chart-of-adverse-events-per-1000-patient-days","dir":"Articles","previous_headings":"Case 1: Patient harm","what":"Run chart of adverse events per 1000 patient days","title":"Quality Improvement Charts","text":"Since random variation present run chart, U control chart harm rate appropriate computing limits common cause variation.","code":"qic(month, harms, days,     data     = gtt,     multiply = 1000,     title    = 'Patient harm',     ylab     = 'Adverse events per 1000 patient days',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"u-chart-of-adverse-events-per-1000-patient-days","dir":"Articles","previous_headings":"Case 1: Patient harm","what":"U chart of adverse events per 1000 patient days","title":"Quality Improvement Charts","text":"sample sizes (number patient days) month, 3-sigma limits vary. Large samples give narrow limits vice versa. Varying limits also seen P Xbar charts.","code":"qic(month, harms, days,     data     = gtt,     chart    = 'u',     multiply = 1000,     title    = 'Patient harm (U chart)',     ylab     = 'Adverse events per 1000 patient days',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"run-and-p-control-charts-of-percent-harmed-patients","dir":"Articles","previous_headings":"Case 1: Patient harm","what":"Run and P control charts of percent harmed patients","title":"Quality Improvement Charts","text":"plot percentage harmed patients (patients 1 harms) need add variable aggregate data month.  , since run chart finds random variation, control chart may applied. proportion (percent) harmed patients use P chart.  Since harm rate proportion harmed patients exhibit common cause variation , conclude risk adverse events hospitalisation predictable: future expect around 60 adverse events per 1000 patient days, harming around 33% patients (regardless length stay), although harm rates anywhere ~0 – 60% considered within common cause variation. Actually, often need aggregate data advance. little creativity can make qic hard work. previous plot produced code. Note use original gtt dataset number harmed total number patients created fly.","code":"suppressPackageStartupMessages(library(dplyr))  gtt_by_month <- gtt %>%   mutate(harmed = harms > 0) %>%    group_by(month) %>%    summarise(harms    = sum(harms),             days     = sum(days),             n.harmed = sum(harmed),             n        = n())  head(gtt_by_month) #> # A tibble: 6 × 5 #>   month      harms  days n.harmed     n #>   <date>     <dbl> <dbl>    <int> <int> #> 1 2010-01-01     5   113        3    20 #> 2 2010-02-01     7   132        6    20 #> 3 2010-03-01     5   121        4    20 #> 4 2010-04-01     7   134        5    20 #> 5 2010-05-01     7   116        7    20 #> 6 2010-06-01     5   131        5    20 qic(month, n.harmed,     n         = n,     data      = gtt_by_month,     y.percent = TRUE,     title     = 'Harmed patients',     ylab      = NULL,     xlab      = 'Month') qic(month, n.harmed, n,     data      = gtt_by_month,     chart     = 'p',     y.percent = TRUE,     title     = 'Harmed patients (P chart)',     ylab      = NULL,     xlab      = 'Month') qic(month,      harms > 0,        # TRUE if patient had one or more harms     days > 0,         # Always TRUE      data      = gtt,     chart     = 'p',     y.percent = TRUE,     title     = 'Harmed patients (P chart)',     ylab      = NULL,     xlab      = 'Month')"},{"path":"/articles/qicharts2.html","id":"pareto-analysis-of-adverse-event-types-and-severity","dir":"Articles","previous_headings":"Case 1: Patient harm","what":"Pareto analysis of adverse event types and severity","title":"Quality Improvement Charts","text":"Pareto chart, named Vilfred Pareto, invented Joseph M. Juran tool identify important causes problem. Types severity adverse events gtt organised untidy wide format. Since paretochart() needs vector categorical data, need rearrange harm severity harm category separate columns.  bars show number category, curve shows cumulated percentage categories. Almost 80% harms come 3 categories: gastrointestinal, infection, procedure.  Almost harms temporary (E-F).","code":"suppressPackageStartupMessages(library(tidyr))  gtt_ae_types <- gtt %>%   gather(severity, category, E:I) %>%    filter(complete.cases(.))  head(gtt_ae_types) #>   admission_id admission_dte discharge_dte      month days harms severity #> 1            2    2009-12-24    2010-01-06 2010-01-01   14     2        E #> 2           11    2010-01-08    2010-01-18 2010-01-01   11     2        E #> 3           12    2010-01-11    2010-01-19 2010-01-01    9     1        E #> 4           29    2010-01-27    2010-02-10 2010-02-01   15     1        E #> 5           41    2010-02-24    2010-03-01 2010-03-01    6     1        E #> 6           45    2010-02-22    2010-03-06 2010-03-01   13     1        E #>           category #> 1   Pressure ulcer #> 2        Infection #> 3   Pressure ulcer #> 4   Pressure ulcer #> 5 Gastrointestinal #> 6 Gastrointestinal paretochart(gtt_ae_types$category,             title = 'Pareto chart of harm category') paretochart(gtt_ae_types$severity,             title = 'Pareto chart of harm severity')"},{"path":"/articles/qicharts2.html","id":"case-2-clostridium-difficile-infections","dir":"Articles","previous_headings":"","what":"Case 2: Clostridium difficile infections","title":"Quality Improvement Charts","text":"cdi dataset contains data hospital acquired Clostridium difficile infections (CDI) intervention reduce risk CDI. See ?cdi details.","code":"head(cdi) #>        month  n     days period notes #> 1 2012-11-01 17 14768.42    pre  <NA> #> 2 2012-12-01 12 14460.33    pre  <NA> #> 3 2013-01-01 27 16176.92    pre  <NA> #> 4 2013-02-01 20 14226.50    pre  <NA> #> 5 2013-03-01 20 14816.25    pre  <NA> #> 6 2013-04-01 18 14335.29    pre  <NA>"},{"path":"/articles/qicharts2.html","id":"run-charts-for-number-of-infections","dir":"Articles","previous_headings":"Case 2: Clostridium difficile infections","what":"Run charts for number of infections","title":"Quality Improvement Charts","text":"begin plotting run chart number CDIs per month.  downward shift number CDIs clearly visible naked eye supported runs analysis resulting centre line dashed red. shift seem begin around time intervention. Even though necessary case, can strengthen analysis using median -intervention period test non-random variation period.  median number CDIs per month period 19. unusually long run 15 data points median proves CDI rate reduced. shift desired direction result deliberate change process, may split chart compare numbers intervention.","code":"qic(month, n,     notes    = notes,     data     = cdi,     decimals = 0,     title    = 'Hospital acquired Clostridium difficile infections',     ylab     = 'Count',     xlab     = 'Month') qic(month, n,     data        = cdi,     decimals    = 0,     freeze      = 24,     part.labels = c('Baseline', 'Intervention'),     title       = 'Hospital acquired Clostridium difficile infections',     ylab        = 'Count',     xlab        = 'Month') qic(month, n,     data     = cdi,     decimals = 0,     part     = 24,     title    = 'Hospital acquired Clostridium difficile infections',     ylab     = 'Count',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"c-chart-for-number-of-infections","dir":"Articles","previous_headings":"Case 2: Clostridium difficile infections","what":"C chart for number of infections","title":"Quality Improvement Charts","text":"Since periods show random variation, control chart may applied test larger transient shifts data establish natural limits current process. correct chart case C chart number infections.  split C chart shows CDI rate dropped average 19 7 per month. Furthermore, 3-sigma limits tell current process predictable future expect 0 15 CDIs per month.","code":"qic(month, n,     data  = cdi,     chart = 'c',     part  = 24,     title = 'Hospital acquired Clostridium difficile infections (C chart)',     ylab  = 'Count',     xlab  = 'Month')"},{"path":"/articles/qicharts2.html","id":"u-chart-for-infection-rate","dir":"Articles","previous_headings":"Case 2: Clostridium difficile infections","what":"U chart for infection rate","title":"Quality Improvement Charts","text":"now assumed area opportunity, exposure, constant, .e., number patients patient days changed significantly time. area opportunity varies, U chart (U unequal area opportunity) appropriate.  fact, U charts can always used instead C charts. area opportunity constant two charts reach conclusion. raw numbers C chart may easier communicate counts per something. important recognise run control charts can identify non-random variation, identify causes. analysis tells CDI rate reduced intervention. causal relationship intervention shift must established using methods.","code":"qic(month, n, days,     data     = cdi,     chart    = 'u',     part     = 24,     multiply = 10000,      title    = 'Hospital acquired Clostridium difficile infections (U chart)',     ylab     = 'Cases per 10,000 risk days',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"when-should-you-recompute-the-limits","dir":"Articles","previous_headings":"Case 2: Clostridium difficile infections","what":"When should you recompute the limits?","title":"Quality Improvement Charts","text":"splitting chart example make deliberate decision based understanding process. software packages offer automated recalculation limits whenever shift detected. find approach wrong. Limits voice process recomputing limits without understanding context, computers don’t, like telling someone shut , really trying tell something important. Wheeler suggests limits may recomputed answers four question “yes” (Wheeler 2010, p. 224): data display distinctly different kind behaviour past? reason change behaviour known? new process behaviour desirable? intended expected new behaviour continue? answer question “”, rather seek find assignable cause shift , need , eliminate . Thus, deliberate change made process chart finds shift attributable change, may time recompute limits.","code":""},{"path":"/articles/qicharts2.html","id":"case-3-coronary-artery-bypass-graft","dir":"Articles","previous_headings":"","what":"Case 3: Coronary artery bypass graft","title":"Quality Improvement Charts","text":"cabg dataset contains data individual coronary artery bypass operations. See ?cabg details.","code":"head(cabg) #>         date    age gender los death readmission #> 1 2011-07-01 72.534   Male   8 FALSE        TRUE #> 2 2011-07-01 59.225   Male   9 FALSE       FALSE #> 3 2011-07-04 66.841   Male  15 FALSE       FALSE #> 4 2011-07-04 70.337   Male   9 FALSE       FALSE #> 5 2011-07-04 60.816   Male   6 FALSE        TRUE #> 6 2011-07-05 57.027   Male   9 FALSE       FALSE"},{"path":"/articles/qicharts2.html","id":"i-and-mr-charts-for-age-of-individual-patients","dir":"Articles","previous_headings":"Case 3: Coronary artery bypass graft","what":"I and MR charts for age of individual patients","title":"Quality Improvement Charts","text":"following cases skip obligatory first step using run chart. First, make control chart age last 100 patients. Since plotting individual measurements, use chart.  Two data points (patients number 45 70) lower 3-sigma limit indicating patients “unusually” young, .e. representative phenomena normally present process. charts often displayed along moving range charts show ranges neighbouring data points.  MR chart identifies three unusually large ranges, clearly produced two unusually young patients also found chart. Note data point chart contained two moving ranges MR chart. seek cause(s) special causes. may chose eliminate outliers computations process centre 3-sigma limits order predict expected age range future patients.  Thus, average expect future patients 67 years age, patients younger 43 years older 91 years unusual.","code":"qic(age,     data      = tail(cabg, 100),      chart     = 'i',     show.grid = TRUE,     title     = 'Age of the last 100 patients (I chart)',     ylab      = 'Years',     xlab      = 'Patient #') qic(age,     data      = tail(cabg, 100),      chart     = 'mr',     show.grid = TRUE,     title     = 'Age of the last 100 patients (MR chart)',     ylab      = 'Years',     xlab      = 'Patient #') qic(age,     data    = tail(cabg, 100),      chart   = 'i',     exclude = c(45, 70),     title   = 'Age of the last 100 patients (I chart)',     ylab    = 'Years',     xlab    = 'Patient #')"},{"path":"/articles/qicharts2.html","id":"xbar-and-s-charts-for-average-and-standard-deviation-of-patient-age","dir":"Articles","previous_headings":"Case 3: Coronary artery bypass graft","what":"Xbar and S charts for average and standard deviation of patient age","title":"Quality Improvement Charts","text":"also plot mean age patients month. choose Xbar chart multiple measurement per subgroup. First, need add month grouping variable. Using month x axis variable, qic() automatically calculates average age per month.  Xbar charts usually displayed along S charts displaying within subgroup standard deviation.  Since Xbar S chart display common cause variation, may conclude monthly average standard deviation patient age predictable. Note mean Xbar chart close mean individuals chart 3-sigma limits narrower.","code":"cabg <- cabg %>%    mutate(month = as.Date(cut(date, 'month'))) qic(month, age,     data  = cabg,     chart = 'xbar',     title = 'Average age (Xbar chart)',     ylab  = 'Years',     xlab  = 'Month') qic(month, age,     data  = cabg,     chart = 's',     title = 'Age standard deviation (S chart)',     ylab  = 'Years',     xlab  = 'Month')"},{"path":"/articles/qicharts2.html","id":"p-charts-for-proportion-of-patients-who-were-readmitted-or-died-within-30-after-surgery","dir":"Articles","previous_headings":"Case 3: Coronary artery bypass graft","what":"P charts for proportion of patients who were readmitted or died within 30 after surgery","title":"Quality Improvement Charts","text":"plot readmissions mortality first need summarise counts month. use P charts proportion readmissions.  average, 22% patients readmitted within 30 days surgery, nothing changes expect continue. mortality?  Thankfully, post-surgery mortality rare event, P chart suggests common cause variation. However, seems curious one patient died summer 2012. investigate , G T charts rare events useful.","code":"cabg_by_month <- cabg %>%    group_by(month) %>%    summarise(deaths       = sum(death),             readmissions = sum(readmission),             n            = n())  head(cabg_by_month) #> # A tibble: 6 × 4 #>   month      deaths readmissions     n #>   <date>      <int>        <int> <int> #> 1 2011-07-01      1           14    52 #> 2 2011-08-01      3           12    64 #> 3 2011-09-01      2           15    70 #> 4 2011-10-01      1            8    60 #> 5 2011-11-01      1           16    67 #> 6 2011-12-01      3           11    69 qic(month, readmissions, n,     data      = cabg_by_month,     chart     = 'p',     y.percent = TRUE,     title     = 'Readmissions within 30 days (P chart)',     ylab      = NULL,     xlab      = 'Month') qic(month, deaths, n,     data      = cabg_by_month,     chart     = 'p',     y.percent = TRUE,     title     = '30 days mortality (P chart)',     ylab      = NULL,     xlab      = 'Month')"},{"path":"/articles/qicharts2.html","id":"t-and-g-charts-for-rare-events","dir":"Articles","previous_headings":"Case 3: Coronary artery bypass graft","what":"T and G charts for rare events","title":"Quality Improvement Charts","text":"Rare events often better analysed time opportunities events. First, need calculate number surgeries days fatalities. use G chart opportunities (surgeries) events (deaths).  information opportunities (surgeries survival), may instead use T chart time events.  conclusions two charts : Deaths number 24 25 unusually far apart. look assignable cause explain may help us get ideas reduce postoperative mortality future.","code":"fatalities <- cabg %>%    mutate(x = row_number()) %>%    filter(death) %>%    mutate(dd = x - lag(x),          dt = date - lag(date))  head(fatalities) #>         date    age gender los death readmission      month   x dd      dt #> 1 2011-07-21 91.227 Female   5  TRUE       FALSE 2011-07-01  37 NA NA days #> 2 2011-08-06 71.773   Male   2  TRUE       FALSE 2011-08-01  60 23 16 days #> 3 2011-08-26 73.942   Male   1  TRUE       FALSE 2011-08-01  99 39 20 days #> 4 2011-08-31 80.293   Male   3  TRUE       FALSE 2011-08-01 114 15  5 days #> 5 2011-09-13 75.359   Male  12  TRUE       FALSE 2011-09-01 148 34 13 days #> 6 2011-09-14 72.019 Female  19  TRUE       FALSE 2011-09-01 149  1  1 days qic(dd,     data  = fatalities,     chart = 'g',     title = 'Surgeries between deaths (G chart)',     ylab  = 'Count',     xlab  = 'Death #') qic(dt,     data  = fatalities,     chart = 't',     title = 'Days between deaths (T chart)',     ylab  = 'Days',     xlab  = 'Death #')"},{"path":"/articles/qicharts2.html","id":"faceting-readmission-rates-by-gender","dir":"Articles","previous_headings":"Case 3: Coronary artery bypass graft","what":"Faceting readmission rates by gender","title":"Quality Improvement Charts","text":"demonstrate use faceted charts, summarise readmissions month gender. use facets argument make control chart gender keeping x y axes .  chart suggests readmission rate females increasing. clearly undesirable investigate find eliminate special cause.","code":"cabg_by_month_gender <- cabg %>%    group_by(month, gender) %>%    summarise(readmissions = sum(readmission),             n            = n()) #> `summarise()` has grouped output by 'month'. You can override using the #> `.groups` argument.  head(cabg_by_month_gender) #> # A tibble: 6 × 4 #> # Groups:   month [3] #>   month      gender readmissions     n #>   <date>     <fct>         <int> <int> #> 1 2011-07-01 Female            2     9 #> 2 2011-07-01 Male             12    43 #> 3 2011-08-01 Female            0     9 #> 4 2011-08-01 Male             12    55 #> 5 2011-09-01 Female            3    18 #> 6 2011-09-01 Male             12    52 qic(month, readmissions, n,     data      = cabg_by_month_gender,     facets    = ~ gender,      chart     = 'p',     y.percent = TRUE,     title     = 'Readmissions within 30 days (P chart)',     ylab      = '',     xlab      = 'Month')"},{"path":"/articles/qicharts2.html","id":"case-4-faceting-hospital-infections-by-hospital-and-infection","dir":"Articles","previous_headings":"","what":"Case 4: Faceting hospital infections by hospital and infection","title":"Quality Improvement Charts","text":"hospital_infection dataset contains data hospital acquired bacteremias (BAC), Clostridium difficile infections (CDI), urinary tract infections (UTI) six hospitals Capital Region Denmark. See ?hospital_infections details.","code":"head(hospital_infections) #>   hospital infection      month  n     days #> 1      AHH       BAC 2015-01-01 17 17233.67 #> 2      AHH       BAC 2015-02-01 18 15308.25 #> 3      AHH       BAC 2015-03-01 17 16883.67 #> 4      AHH       BAC 2015-04-01 10 15463.83 #> 5      AHH       BAC 2015-05-01 13 15788.96 #> 6      AHH       BAC 2015-06-01 14 15660.04"},{"path":"/articles/qicharts2.html","id":"u-chart-of-the-total-number-of-infections-per-10000-risk-days","dir":"Articles","previous_headings":"Case 4: Faceting hospital infections by hospital and infection","what":"U chart of the total number of infections per 10,000 risk days","title":"Quality Improvement Charts","text":"infection rate appears predictable. However, plotting three types infection together like mixing apples oranges.","code":"qic(month, n, days,     data     = hospital_infections,     chart    = 'u',     multiply = 10000,     title    = 'Hospital acquired infections in the Capital Region of Denmark',     ylab     = 'Cases per 10,000 risk days',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"faceted-u-chart-by-type-of-infection","dir":"Articles","previous_headings":"Case 4: Faceting hospital infections by hospital and infection","what":"Faceted U chart by type of infection","title":"Quality Improvement Charts","text":"Now infection facet. see three infections appear predictable UTI common infection. since data come six different hospitals, also facet hospital.","code":"qic(month, n, days,     data     = hospital_infections,     facets   = ~ infection,     chart    = 'u',     multiply = 10000,     title    = 'Hospital acquired infections in the Capital Region of Denmark',     ylab     = 'Cases per 10,000 risk days',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"two-way-faceted-u-chart-by-infection-and-hospital","dir":"Articles","previous_headings":"Case 4: Faceting hospital infections by hospital and infection","what":"Two-way faceted U chart by infection and hospital","title":"Quality Improvement Charts","text":"plot makes easy display differences hospitals types infection. Non-random variation present UTI rates two hospitals (BOH, NOH). Note use individual y axes better visualise variation time rotated x axis labels avoid overlapping labels.","code":"qic(month, n, days,     data     = hospital_infections,     facets   = infection ~ hospital,     chart    = 'u',     multiply = 10000,     scales   = 'free_y',     x.angle  = 45,     title    = 'Hospital acquired infections in the Capital Region of Denmark',     ylab     = 'Cases per 10,000 risk days',     xlab     = 'Month')"},{"path":"/articles/qicharts2.html","id":"funnels-plot-of-infection-rates-by-hospital","dir":"Articles","previous_headings":"Case 4: Faceting hospital infections by hospital and infection","what":"Funnels plot of infection rates by hospital","title":"Quality Improvement Charts","text":"Processes containing common cause variation time may aggregated compared across units time. data natural time order, .e., x variable categorical, data points connected lines runs analysis performed. produce funnel plot infections hospital, filter data recent stable period reorder x variable size.  One hospital, NOH, unusually bacteremias urinary tract infections compared hospitals. Another hospital, BFH, unusually many Clostridium difficile infections. hospitals indistinguishable respect hospital infection rates. can learn NOH BFH? important stress data presented funnel plots used learning rather judgement. may interesting need “case” point fingers good, bad, ugly, full power SPC released data used learning improvement.","code":"hai_2016 <- hospital_infections %>%    filter(month    >= '2016-07-01') %>%    mutate(hospital = reorder(hospital, days))  qic(hospital, n, days,     data            = hai_2016,     facets          = ~ infection,     ncol            = 1,     scales          = 'free_y',     chart           = 'u',     multiply        = 10000,     decimals        = 1,     show.labels     = TRUE,     title           = 'Hospital acquired bacteremia 2016 (U funnel chart)',     ylab            = 'Cases per 10,000 risk days',     xlab            = 'Hospital')"},{"path":"/articles/qicharts2.html","id":"case-5-prime-charts-for-count-data-with-very-large-sample-sizes","dir":"Articles","previous_headings":"","what":"Case 5: Prime charts for count data with very large sample sizes","title":"Quality Improvement Charts","text":"P U charts large sample sizes sometimes produce narrow 3-sigma limits data points outside limits even process stable. nhs_accidents dataset contains number emergency patients seen within 4 hours attendance. sample sizes large (> 250,000). See ?nhs_accidents details. plotted P chart, 3-sigma limits appear narrow.  called -dispersion, happens sometimes data practice rarely come truly binomial poisson distributions. sample sizes small, problem. sample sizes increase (> 1000) becomes apparent assumptions constant proportions rates subgroups true. simple test -dispersion apply chart. chart gives 3-sigma limits different U P chart, signal underlying probability model U P chart may correct.  fact, since chart estimates 3-sigma limits based observed within subgroup variation data rather assumed probability model, sort like Swiss army knife SPC. Therefore, chart may used true probability model data unknown. However, chart account varying sample sizes may give false signals sample sizes vary significantly. Laney proposed elegant solution incorporates within subgroup variation calculation 3-sigma limits. P’ (P prime) U’ (U prime) charts . See Laney 2002 details.  Laney notes -dispersion present, prime charts give results traditional charts, recommends always use prime charts proportions rates. Comparing P P’ charts readmission rates cabg dataset find 3-sigma limits P’ chart little wider, two charts reach similar conclusions.","code":"head(nhs_accidents) #>   i      r      n #> 1 1 266501 280443 #> 2 2 264225 276823 #> 3 3 276532 291681 #> 4 4 281461 296155 #> 5 5 269071 282343 #> 6 6 261215 275888 qic(i, r,      n        = n,      data     = nhs_accidents,      chart    = 'p',     decimals = 3,     title    = 'Proportion of patients seen within 4 hours of attendance (P chart)',     ylab     = NULL,     xlab     = 'Week #') qic(i, r,      n        = n,      data     = nhs_accidents,      chart    = 'i',     decimals = 3,     title    = 'Proportion of patients seen within 4 hours of attendance (I chart)',     ylab     = NULL,     xlab     = 'Week #') qic(i, r,      n        = n,      data     = nhs_accidents,      chart    = 'pp',     decimals = 3,     title    = 'Proportion of patients seen within 4 hours of attendance (P\\' chart)',     ylab     = NULL,     xlab     = 'Week #')"},{"path":"/articles/qicharts2.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Quality Improvement Charts","text":"qic() qicharts2 provides simple interface constructing statistical process control charts time series data. default chart run chart, tests non-random variation data time using Anhøj rules unusually long runs unusually crossings. Anhøj rules useful detection moderate, persistent shifts. detect larger, possibly transient, shifts, control charts useful. qic() employs 11 types control charts different types data. Since runs analysis based Anhøj rules makes assumptions distribution data, run chart recommended starting point analysis time series data. run chart finds random variation , control chart may used identify transient shifts data establish natural process limits expected future.","code":""},{"path":"/articles/qicharts2.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Quality Improvement Charts","text":"Donald J. Wheeler (2000). Understanding Variation – Key Managing Chaos, second edition. SPC Press. Jacob Anhøj, Anne Vingaard Olesen (2014). Run Charts Revisited: Simulation Study Run Chart Rules Detection Non-Random Variation Health Care Processes. PLoS ONE 9(11): e113825. Jacob Anhøj (2015). Diagnostic Value Run Chart Analysis: Using Likelihood Ratios Compare Run Chart Rules Simulated Data Series. PLoS ONE 10(3): e0121349. Donald J. Wheeler (2010). Understanding Statistical Process Control, third edition. SPC Press. Douglas C. Montgomery (2009). Statistical Quality Control – Modern Introduction, sixth edition. John Wiley & Sons. Lloyd S. Nelson (1982). Control Charts Individual Measurements. Journal Quality Technology 14(3), 172-173. David B. Laney (2002). Improved control charts attributes. Quality Engineering, 14(4), 531-537.","code":""},{"path":"/articles/qicharts2.html","id":"appendix-1-calculating-3-sigma-limits","dir":"Articles","previous_headings":"","what":"Appendix 1: Calculating 3-sigma limits","title":"Quality Improvement Charts","text":"functions calculating 3-sigma limits qicharts2 based formulas provided Montgomery (Montgomery 2009). Laney’s correction factor prime charts Laney 2002. general model control charts x‾‾±3SD\\bar{\\bar{x}}\\pm3SD x‾‾\\bar{\\bar{x}} weighted average sample statistic SDSD weighted sample standard deviation. procedure calculating SDSD depends type type data involved: : x‾±2.66MR¯\\bar{x}\\pm2.66\\overline{MR}, x‾=\\bar{x}=, sample average, MR¯=\\overline{MR}= average moving range successive observations. MR: 3.267MR¯3.267\\overline{MR}, MR¯=\\overline{MR}= average moving range (lower 3-sigma limit). Xbar: x‾‾±A3s‾\\bar{\\bar{x}}\\pm A_{3}\\bar{s}, A3=A_{3}= constant depending sample size, s‾=\\bar{s}= weighted sample standard deviation. S: CL=s‾,LCL=B3s‾,UCL=B4s‾CL=\\bar{s}, LCL=B_{3}\\bar{s}, UCL=B_{4}\\bar{s}, s‾=\\bar{s}= weighted sample standard deviation, B3B_{3} B4=B_{4}= constants depending sample size. C: c‾±3c‾\\bar{c}\\pm3\\sqrt{\\bar{c}}, c‾=\\bar{c}= average number defects. U: u‾±3u‾ni\\bar{u}\\pm3\\sqrt{\\frac{\\bar{u}}{n_{}}}, u‾=\\bar{u}= average number defects per unit, ni=n_{}= size inspection unit. P: p‾±3p‾(1−p‾)ni\\bar{p}\\pm3\\sqrt{\\frac{\\bar{p}(1-\\bar{p})}{n_{}}}, p‾=\\bar{p}= average number defectives, ni=n_{}= sample size. G: x‾±3x‾(x‾+1)\\bar{x}\\pm3\\sqrt{\\bar{x}(\\bar{x}+1)}, x‾=\\bar{x}= average number opportunities events. Notes charts use correction suggested Nelson excluding moving ranges upper range limit calculations 3-sigma limits (Nelson 1982). Runs analysis performed MR charts since individual data points correlated. 3-sigma limits T chart time rare events calculated applying chart transformed data (y=y1/3.6y=y^{1/3.6}) back transforming 3-sigma limits (cl=cl3.6cl=cl^{3.6}). prime charts, calculated standard deviation multiplied Laney’s correction factor, average moving range standardised y values divided constant 1.128 (Laney 2002). Since count data G chart usually highly skewed, centre line G chart median rather mean. way application Anhøj rules still valid.","code":""},{"path":"/articles/qicharts2.html","id":"appendix-2-critical-values-for-longest-run-and-number-of-crossings","dir":"Articles","previous_headings":"","what":"Appendix 2: Critical values for longest run and number of crossings","title":"Quality Improvement Charts","text":"","code":"n <- 10:100 x <- data.frame(   `Number of useful observations`       = n,   `Upper limit for longest run`         = round(log2(n) + 3),   `Lower limit for number of crossings` = qbinom(0.05, n - 1, 0.5),   check.names                           = FALSE)  knitr::kable(x)"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Jacob Anhoej. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Anhoej J (2026). qicharts2: Quality Improvement Charts. R package version 0.8.1, https://github.com/anhoej/qicharts2.","code":"@Manual{,   title = {qicharts2: Quality Improvement Charts},   author = {Jacob Anhoej},   year = {2026},   note = {R package version 0.8.1},   url = {https://github.com/anhoej/qicharts2}, }"},{"path":"/index.html","id":"quality-improvement-charts-for-r","dir":"","previous_headings":"","what":"Quality Improvement Charts","title":"Quality Improvement Charts","text":"qicharts2 R package functions making run charts, Shewhart control charts Pareto charts continuous quality improvement. Included control charts : , MR, Xbar, S, T, C, U, U’, P, P’, G charts. Non-random variation form minor moderate persistent shifts data time identified Anhoej rules unusually long runs unusually crossing [Anhoej, Olesen (2014) https://doi.org/10.1371/journal.pone.0113825]. Non-random variation form larger, possibly transient, shifts identified Shewhart’s 3-sigma rule [Mohammed, Worthington, Woodall (2008) https://doi.org/10.1136/qshc.2004.012047].","code":""},{"path":"/index.html","id":"exported-functions","dir":"","previous_headings":"","what":"Exported functions","title":"Quality Improvement Charts","text":"qic() Run control charts. summary.qic() Summary qic object. paretochart() Pareto charts. bchart() Bernoulli CUSUM chart (EXPERIMENTAL).","code":""},{"path":"/index.html","id":"included-datasets","dir":"","previous_headings":"","what":"Included datasets","title":"Quality Improvement Charts","text":"hospital_infections Number hospital acquired bacteremia, Clostridium difficile infections, urinary tract infections six hospitals. cabg Individual coronary artery bypass graft operations. cdi Hospital acquired Clostridium difficile infections (CDI) intervention reduce risk CDI. nhs_accidents Number attendances major accident emergency hospital departments NHS seen within 4 hours arrival twenty weeks. gtt Adverse events hospitalisation found Global Trigger Tool.","code":""},{"path":"/index.html","id":"instructions","dir":"","previous_headings":"","what":"Instructions","title":"Quality Improvement Charts","text":"Install stable version CRAN: install.packages('qicharts2'). Install development version github: devtools::install_github('anhoej/qicharts2', build_vignettes = TRUE). Read documentation: ?qic. Run examples: example('qic'), example('paretochart'). Read vignette: vignette('qicharts2'). Report issues suggest improvements https://github.com/anhoej/qicharts2. Website: https://anhoej.github.io/qicharts2/","code":""},{"path":"/paper.html","id":null,"dir":"","previous_headings":"","what":"Summary","title":"Summary","text":"qicharts2 R package making statistical process control (SPC) charts continuous quality improvement. SPC charts point--line graphs showing measure time employing statistical tests identification non-random variation, e.g. quality improvement degradation. Central SPC understanding process variation time. purpose analysing process data know change occurs can take appropriate action. However, numbers may change even process stays (vice versa). distinguish changes numbers represent change underlying process essentially noise? Walther . Shewhart, founded SPC, described two types variation, common cause variation special cause variation: Common cause variation also called natural/random variation noise, present processes, caused phenomena always present within system, makes process predictable within limits. Special cause variation also called non-random variation signal, present processes, caused phenomena normally present system, makes process unpredictable. overall purpose SPC charts tell two types variation apart. Special cause variation form minor moderate persistent shifts data time identified Anhoej rules unusually long runs unusually crossings [@anhøj2014; @anhøj2015]. Special cause variation form larger, possibly transient, shifts identified Shewhart’s 3-sigma rule [@mohammed2008] coloured data points outside control limits. control chart shown Figure 1 displays common cause variation. means process stable predictable, future – nothing changes – expect average 19 infections per month, 6 many 32 within expected range. main function qicharts2, qic(), simple interface one mandatory argument (numbers plot). Many optional arguments allow customisation plot, including selection control chart type, one two dimensional facetting, splitting charts pre post intervention periods. qicharts2 comes vignette, Get started [@vignette], explains theory behind SPC typical uses qic().","code":""},{"path":[]},{"path":"/reference/bchart.html","id":null,"dir":"Reference","previous_headings":"","what":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","title":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","text":"Bernoulli CUSUM chart useful monitoring rare events data, e.g. surgical site infections types complications. Based Neuburger et al. (2017) doi:10.1136/bmjqs-2016-005526 .","code":""},{"path":"/reference/bchart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","text":"","code":"bchart(   x,   target = NULL,   or = 2,   limit = 3.5,   title = \"\",   ylab = \"CUSUM\",   xlab = \"Case #\" )"},{"path":"/reference/bchart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","text":"x Logical, vector successes failures. target Baseline risk (0-1) number (>1) last observation end baseline period. NULL, use empirical mean. Positive odds ratio minimal detectable change relative baseline risk. limit Control limit. title Chart title. ylab Y axis label. xlab X axis label.","code":""},{"path":"/reference/bchart.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","text":"object class ggplot.","code":""},{"path":"/reference/bchart.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","text":"Note diagnostic properties Bernoulli CUSUM chart highly dependent choice parameters, target, limit, parameters decided people solid understanding process hand. default parameters, = 2 limit = 3.5, , however, work processes baseline (target) level 1 halving event rate relative target.","code":""},{"path":"/reference/bchart.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bernoulli CUSUM chart for binary data (EXPERIMENTAL) — bchart","text":"","code":"# Generate 1000 random successes and failures with success rate = 0.02 set.seed(1) y <- rbinom(1000, 1, 0.02)  # Plot bchart assuming success rate = 0.01, OR = 2, control limits = +/- 3.5. bchart(y, target = 0.01)   # Plot bchart of CABG mortality using the first 200 surgeries to estimate target. bchart(cabg$death, target = 200)   # Plot bchart of CABG readmissions setting the control limits = +/-5. bchart(cabg$readmission, target = 200, limit = 5)"},{"path":"/reference/cabg.html","id":null,"dir":"Reference","previous_headings":"","what":"Coronary artery bypass graft operations — cabg","title":"Coronary artery bypass graft operations — cabg","text":"dataset data individual coronary artery bypass graft operations.","code":""},{"path":"/reference/cabg.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coronary artery bypass graft operations — cabg","text":"","code":"cabg"},{"path":"/reference/cabg.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Coronary artery bypass graft operations — cabg","text":"data frame 2205 rows 6 variables: data Date operation. age Patient age years. gender Patient gender. los Length og stay   days. death TRUE patient died within 30 days   surgery. readmission TRUE patient readmitted   reason within 30 days surgery.","code":""},{"path":"/reference/cabg.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Coronary artery bypass graft operations — cabg","text":"Omitted privacy concerns.","code":""},{"path":"/reference/cdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Clostridium difficile infections — cdi","title":"Clostridium difficile infections — cdi","text":"dataset data hospital acquired Clostridium difficile infections (CDI) intervention reduce risk CDI.","code":""},{"path":"/reference/cdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clostridium difficile infections — cdi","text":"","code":"cdi"},{"path":"/reference/cdi.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Clostridium difficile infections — cdi","text":"data frame 36 rows 5 variables: month   Month observation. n Number hospital acquired CDI. days   Number risk days. risk day patient day without CDI. period   Factor indicating period 'pre' 'post' intervention. notes   Annotations.","code":""},{"path":"/reference/cdi.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Clostridium difficile infections — cdi","text":"www.esundhed.dk (Amager Hvidovre Hospital).","code":""},{"path":"/reference/complaints.html","id":null,"dir":"Reference","previous_headings":"","what":"Complaints — complaints","title":"Complaints — complaints","text":"data frame 20 rows 3 variables: month Month. Number complaints. sales Sales volume.","code":""},{"path":"/reference/complaints.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Complaints — complaints","text":"","code":"complaints"},{"path":"/reference/complaints.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Complaints — complaints","text":"object class data.frame 20 rows 3 columns.","code":""},{"path":"/reference/complaints.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Complaints — complaints","text":"Wayne Taylor (variation.com)","code":""},{"path":"/reference/complaints.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Complaints — complaints","text":"https://variation.com/normalized-individuals-control-chart/","code":""},{"path":"/reference/gtt.html","id":null,"dir":"Reference","previous_headings":"","what":"Patient harm identified using the Global Trigger Tool — gtt","title":"Patient harm identified using the Global Trigger Tool — gtt","text":"dataset data adverse events hospitalisation found Global Trigger Tool.","code":""},{"path":"/reference/gtt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Patient harm identified using the Global Trigger Tool — gtt","text":"","code":"gtt"},{"path":"/reference/gtt.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Patient harm identified using the Global Trigger Tool — gtt","text":"data frame 340 rows 11 variables: admission_id Admission ID. admission_dte Date admission. discharge_dte Date discharge. month Month discharge. days   Duration hospital stay days. harms Number adverse events. E-Type adverse event severity category. E-F: Temporary   harm; G-H: Permanent harm; : Fatal harm.","code":""},{"path":"/reference/gtt.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Patient harm identified using the Global Trigger Tool — gtt","text":"Omitted privacy concerns.","code":""},{"path":"/reference/gtt.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Patient harm identified using the Global Trigger Tool — gtt","text":"https://www.ihi.org/resources/white-papers/ihi-global-trigger-tool-measuring-adverse-events","code":""},{"path":"/reference/hospital_infections.html","id":null,"dir":"Reference","previous_headings":"","what":"Hospital acquired infections — hospital_infections","title":"Hospital acquired infections — hospital_infections","text":"dataset containing number hospital acquired bacteremia, Clostridium difficile infections, urinary tract infections six hospitals Capital Region Denmark 2015-2016.","code":""},{"path":"/reference/hospital_infections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hospital acquired infections — hospital_infections","text":"","code":"hospital_infections"},{"path":"/reference/hospital_infections.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Hospital acquired infections — hospital_infections","text":"data frame 432 rows 5 variables: hospital Abbreviated hospital name. infection Type infection.   BAC: Bacteremia, CDI: Clostridium difficile infection. UTI: Urinary tract   infection. month First day month. n Number cases. days Number risk days. risk day patient day without   infection.","code":""},{"path":"/reference/hospital_infections.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Hospital acquired infections — hospital_infections","text":"www.esundhed.dk (Capital Region Denmark).","code":""},{"path":"/reference/lots.html","id":null,"dir":"Reference","previous_headings":"","what":"Lots — lots","title":"Lots — lots","text":"data frame 20 rows 3 variables: lot Lot number. value Average value. n Lot size.","code":""},{"path":"/reference/lots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lots — lots","text":"","code":"lots"},{"path":"/reference/lots.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Lots — lots","text":"object class data.frame 20 rows 3 columns.","code":""},{"path":"/reference/lots.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Lots — lots","text":"Wayne Taylor (variation.com)","code":""},{"path":"/reference/lots.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Lots — lots","text":"https://variation.com/normalized-individuals-control-chart/","code":""},{"path":"/reference/nhs_accidents.html","id":null,"dir":"Reference","previous_headings":"","what":"NHS accidents — nhs_accidents","title":"NHS accidents — nhs_accidents","text":"number attendances major accident emergency hospital departments NHS seen within 4 hours arrival twenty weeks.","code":""},{"path":"/reference/nhs_accidents.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NHS accidents — nhs_accidents","text":"","code":"nhs_accidents"},{"path":"/reference/nhs_accidents.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"NHS accidents — nhs_accidents","text":"data frame 20 rows 3 variables: Week   number. r Attendances seen within 4 hours. n Total number   attendances.","code":""},{"path":"/reference/nhs_accidents.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"NHS accidents — nhs_accidents","text":"Mohammed MA, et al. Quality Safety Health Care   2013;22:362–368. doi:10.1136/bmjqs-2012-001373 .","code":""},{"path":"/reference/paretochart.html","id":null,"dir":"Reference","previous_headings":"","what":"Paretochart — paretochart","title":"Paretochart — paretochart","text":"Creates pareto chart categorical variable","code":""},{"path":"/reference/paretochart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Paretochart — paretochart","text":"","code":"paretochart(   x,   title = \"\",   subtitle = NULL,   caption = NULL,   ylab = NULL,   xlab = NULL,   x.angle = NULL,   useNA = FALSE,   print.data = FALSE )"},{"path":"/reference/paretochart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Paretochart — paretochart","text":"x Categorical variable plot. title Chart title. subtitle Chart subtitle. caption Chart caption. ylab Y axis label. xlab X axis label. x.angle Number indicating angle x axis labels. useNA TRUE, NA values included analysis. print.data TRUE, prints data frame results.","code":""},{"path":"/reference/paretochart.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Paretochart — paretochart","text":"object class ggplot.","code":""},{"path":"/reference/paretochart.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Paretochart — paretochart","text":"","code":"# Generate categorical vector x <- rep(LETTERS[1:9], c(256, 128, 64, 32, 16, 8, 4, 2, 1))  # Make paretochart paretochart(x)   # Save paretochart object to variable p <- paretochart(x)  # Print data frame p$data #>   x   y y.cum           p     p.cum #> 1 A 256   256 0.500978474 0.5009785 #> 2 B 128   384 0.250489237 0.7514677 #> 3 C  64   448 0.125244618 0.8767123 #> 4 D  32   480 0.062622309 0.9393346 #> 5 E  16   496 0.031311155 0.9706458 #> 6 F   8   504 0.015655577 0.9863014 #> 7 G   4   508 0.007827789 0.9941292 #> 8 H   2   510 0.003913894 0.9980431 #> 9 I   1   511 0.001956947 1.0000000"},{"path":"/reference/qic.html","id":null,"dir":"Reference","previous_headings":"","what":"Statistical process control charts. — qic","title":"Statistical process control charts. — qic","text":"qic() function creates run charts Shewhart control charts process control improvement. Included control charts : , MR, Xbar, S, T, C, U, U', P, P', G charts.","code":""},{"path":"/reference/qic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Statistical process control charts. — qic","text":"","code":"qic(   x,   y = NULL,   n = NULL,   data = NULL,   facets = NULL,   notes = NULL,   chart = c(\"run\", \"i\", \"mr\", \"xbar\", \"s\", \"t\", \"p\", \"pp\", \"c\", \"u\", \"up\", \"g\", \"ip\"),   agg.fun = c(\"mean\", \"median\", \"sum\", \"sd\"),   method = c(\"anhoej\", \"bestbox\", \"cutbox\"),   multiply = 1,   freeze = NULL,   part = NULL,   exclude = NULL,   target = NA * 1,   cl = NA * 1,   nrow = NULL,   ncol = NULL,   scales = \"fixed\",   title = \"\",   ylab = \"Value\",   xlab = \"Subgroup\",   subtitle = NULL,   caption = NULL,   part.labels = NULL,   show.labels = is.null(facets),   show.95 = FALSE,   decimals = 1,   point.size = 1.5,   x.period = NULL,   x.format = NULL,   x.angle = NULL,   x.pad = 1,   y.expand = NULL,   y.neg = TRUE,   y.percent = FALSE,   y.percent.accuracy = NULL,   show.grid = FALSE,   flip = FALSE,   strip.horizontal = FALSE,   show.raw = FALSE,   print.summary = FALSE,   return.data = FALSE )"},{"path":"/reference/qic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Statistical process control charts. — qic","text":"x Vector subgroup values plot along x axis. y Vector measures counts plot y axis (numerator). n Vector subgroup sizes (denominator). data Data frame containing variables used plot. facets One two sided formula factors used facetting plots. notes Character vector notes added individual data points. chart Character value indicating chart type. Possible values : 'run' (default), '', 'ip', 'mr', 'xbar', 't', 's', 'c', 'u', '', 'p', 'pp', 'g'. agg.fun Aggregate function summarising y variable one observation per subgroup. relevant run charts charts. Possible values : 'mean' (default), 'median', 'sum', 'sd'. method Character indicating method used runs analysis. One 'anhoej' (default), 'bestbox', 'cutbox'. EXPERIMENTAL! multiply Number indicating number multiply y axis , e.g. 100 percents rather proportions. See also y.percent argument. freeze Integer indicating last data point include calculation baseline parameters centre control lines. Ignored part argument given. part Either integer vector indicating data points recalculation centre control lines character vector indicating chart parts. exclude Integer vector indicating data points exclude calculations centre control lines. target Numeric, either single value indicating target value plotted horizontal line vector variable target line. cl Numeric, either single value indicating centre line known advance vector variable centre line. nrow, ncol Number indicating preferred number rows columns facets. scales Character string, one 'fixed' (default), 'free_y', 'free_x', 'free' indicating whether y x axis scales panels free. title Character string specifying title plot. ylab Character string specifying y axis label. xlab Character string specifying x axis label. subtitle Character string specifying subtitle. caption Character string specifying caption. part.labels Character vector specifying  labels chart parts created freeze part argument. show.labels Logical indicating whether show labels centre control lines chart. Defaults TRUE facets argument NULL. show.95 Logical indicating whether show 95 control limits chart. Defaults FALSE. decimals Integer indicating preferred number decimals centre control line labels. point.size Number specifying size data points. x.period Character string specifying interval cut points datetime x values used aggregating y values week, month, etc. See breaks argument ?cut.POSIXt() possible values. x.format Date format x axis labels. See ?strftime() possible date formats. x.angle Number indicating angle x axis labels. x.pad Number indicating expansion x axis make room axis labels. y.expand Numeric value include y axis. Useful e.g. starting y axis zero. y.neg TRUE (default), y axis allowed negative (relevant Xbar charts). y.percent TRUE, formats y axis labels percentages. y.percent.accuracy number round percentage labels y axis. Use 1 show decimals, 0.1 show 1 decimal etc. show.grid TRUE, shows grid. flip TRUE, rotates plot 90 degrees. strip.horizontal TRUE, makes y strip horizontal. show.raw TRUE, shows individual data points addition aggregated values. applicable Xbar S charts. Defaults FALSE. print.summary TRUE, prints summary. return.data TRUE, returns underlying data frame.","code":""},{"path":"/reference/qic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Statistical process control charts. — qic","text":"qic object. Inherits 'ggplot'.","code":""},{"path":"/reference/qic.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Statistical process control charts. — qic","text":"Non-random variation form minor moderate persistent shifts data time (default) identified Anhoej rules unusually long runs unusually crossing. Use EXPERIMENTAL method argument apply bestbox cutbox methods described Anhøj & Wentzel-Larsen (2020) doi:10.1371/journal.pone.0233920 . Special cause variation form larger, possibly transient, shifts data identified Shewhart's 3-sigma rule (Mohammed, Worthington, Woodall (2008) doi:10.1136/qshc.2004.012047 ).","code":""},{"path":[]},{"path":"/reference/qic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Statistical process control charts. — qic","text":"","code":"# Lock random number generator to make reproducible results. set.seed(2)  # Generate vector of 24 random normal numbers y <- rnorm(24)  # Run chart qic(y)   # I control chart qic(y, chart = 'i')   # U control chart from build-in data set of hospital infection rates faceted #   by hospital and type of infection. qic(month, n,     n        = days,     data     = hospital_infections,     facets   = infection ~ hospital,     chart    = 'u',     multiply = 10000,     title    = 'Hospital infection rates',     ylab     = 'Number of infections per 10.000 risk days',     xlab     = 'Month')   # Xbar chart with raw data points displayed # Create sample data with multiple observations per subgroup d <- data.frame(   subgroup = rep(1:10, each = 5),   value = rnorm(50, mean = 10, sd = 2) ) qic(subgroup, value,     data     = d,     chart    = 'xbar',     show.raw = TRUE,     title    = 'Xbar chart with individual observations')"},{"path":"/reference/qicharts2.html","id":null,"dir":"Reference","previous_headings":"","what":"qicharts2 package — qicharts2","title":"qicharts2 package — qicharts2","text":"Statistical Process Control chart R","code":""},{"path":"/reference/qicharts2.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"qicharts2 package — qicharts2","text":"#' See README https://github.com/anhoej/qicharts2/","code":""},{"path":"/reference/summary.qic.html","id":null,"dir":"Reference","previous_headings":"","what":"Prints summary of a qic object — summary.qic","title":"Prints summary of a qic object — summary.qic","text":"Prints summary qic object","code":""},{"path":"/reference/summary.qic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prints summary of a qic object — summary.qic","text":"","code":"# S3 method for class 'qic' summary(object, ...)"},{"path":"/reference/summary.qic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prints summary of a qic object — summary.qic","text":"object qic object. ... compatibility generic summary function.","code":""},{"path":"/reference/summary.qic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prints summary of a qic object — summary.qic","text":"data frame summary values facet part qic plot. facet1 Vertical facets. facet2 Horizontal facets part Number chart part argument break.points given. aLCL Average lower control limit. CL Centre line. aUCL Average upper control limit. longest.run Length longest run data points side centre line. longest.run.max Upper limit expected length longest run. n.crossings Number times data line crosses centre line. n.crossings.min Lower limit expected number crossings. runs.signal 1 either longest run number crossings outside expected limits. sigma.signal Number data points outside control limits.","code":""},{"path":"/reference/summary.qic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prints summary of a qic object — summary.qic","text":"","code":"p <- qic(rnorm(24), chart = 'i') p  summary(p) #>   facet1 facet2 part n.obs n.useful longest.run longest.run.max n.crossings #> 1      1      1    1    24       24           4               8          10 #>   n.crossings.min runs.signal      aLCL   aLCL.95         CL  aUCL.95     aUCL #> 1               8           0 -3.860042 -2.629206 -0.1675323 2.294141 3.524978 #>   sigma.signal #> 1            0"},{"path":"/news/index.html","id":"qicharts2-0819999","dir":"Changelog","previous_headings":"","what":"qicharts2 0.8.1.9999","title":"qicharts2 0.8.1.9999","text":"Allow missing target bchart().","code":""},{"path":"/news/index.html","id":"qicharts2-081","dir":"Changelog","previous_headings":"","what":"qicharts2 0.8.1","title":"qicharts2 0.8.1","text":"CRAN release: 2025-06-23 Prepare ggplot2 version 4 (size -> linewidth, aes_ -> aes).","code":""},{"path":"/news/index.html","id":"qicharts2-080","dir":"Changelog","previous_headings":"","what":"qicharts2 0.8.0","title":"qicharts2 0.8.0","text":"CRAN release: 2025-05-15 Add option qic.mrscreened. Add prime chart (ip).","code":""},{"path":"/news/index.html","id":"qicharts2-075","dir":"Changelog","previous_headings":"","what":"qicharts2 0.7.5","title":"qicharts2 0.7.5","text":"CRAN release: 2024-05-09 Build R 4.4.0 Minor fixes docs Change target line dotted","code":""},{"path":"/news/index.html","id":"qicharts2-074","dir":"Changelog","previous_headings":"","what":"qicharts2 0.7.4","title":"qicharts2 0.7.4","text":"CRAN release: 2023-08-21 Fix  error Screen mr prime adjustment pp charts (thans andrjohns). Prevent conversion missing value 0 C chart (thanks NathanProudlove). Replace old travis build check Github Actions R-CMD-CHECK (thanks andrjohns). Add option show 2 sigma limits (thanks andrjohns). Increased default point size. Change signal colour.","code":""},{"path":"/news/index.html","id":"qicharts2-072","dir":"Changelog","previous_headings":"","what":"qicharts2 0.7.2","title":"qicharts2 0.7.2","text":"CRAN release: 2021-07-08 Fixed bug plotting categorical (character) subgroups. Prime charts (pp ) now handle categorical subgroups (funnel plots). qic() gained y.percent.accuracy argument. Add return data param qic() (thanks rjake). Fix DOI URLs.","code":""},{"path":"/news/index.html","id":"qicharts2-071","dir":"Changelog","previous_headings":"","what":"qicharts2 0.7.1","title":"qicharts2 0.7.1","text":"CRAN release: 2020-10-28 qic() gained EXPERIMENTAL method argument. Fixed broken link vignette. Fixed limits S charts using freeze argument (thanks dirkse). Fixed part argument subgrouped data (thanks Nathan Proudlove),","code":""},{"path":"/news/index.html","id":"qicharts2-061","dir":"Changelog","previous_headings":"","what":"qicharts2 0.6.1","title":"qicharts2 0.6.1","text":"CRAN release: 2020-03-15 Fixing warning caused recent update geom_ribbon() Fixed missing options package loaded. New EXPERIMENTAL function, bchart() Bernoulli CUSUM charts rare events. part argument now accepts character vector identifying labelling chart parts.","code":""},{"path":"/news/index.html","id":"qicharts2-060","dir":"Changelog","previous_headings":"","what":"qicharts2 0.6.0","title":"qicharts2 0.6.0","text":"CRAN release: 2019-03-16 Allow NULL title argument paretochart (thanks Andrew Hill). Fix c4() large n (thanks pwildenhain bug report Tore Wenzel-Larsen fix). Hide line labels Inf values. Fix baseline centre line G charts (using freeze argument). Fix error x.period argument NULL (thanks lenakba).","code":""},{"path":"/news/index.html","id":"qicharts2-051","dir":"Changelog","previous_headings":"","what":"qicharts2 0.5.1","title":"qicharts2 0.5.1","text":"CRAN release: 2018-07-10 Fix missing target line. Use exact values control chart constants A3, B3, B4 (thanks Tore Wenzel-Larsen). Add x.period argument specifying interval cut points aggregating y values week, month, etc. (thanks pwildenhain). P charts default percentage Y axis (thanks pwildehain). Add qic.linecol, qic.signalcol, qic.targetcol options allow custom colours. Add qic.clshade options allow choosing lines shaded area control limits. Fix typos vignette (thanks rmadillo). Add source cabg gtt datasets.","code":""},{"path":"/news/index.html","id":"qicharts2-040","dir":"Changelog","previous_headings":"","what":"qicharts2 0.4.0","title":"qicharts2 0.4.0","text":"CRAN release: 2018-03-03 Fix quoted variables. Darker CL background. Add point.size argument. Improved notes parts labels.","code":""},{"path":"/news/index.html","id":"qicharts2-030","dir":"Changelog","previous_headings":"","what":"qicharts2 0.3.0","title":"qicharts2 0.3.0","text":"CRAN release: 2018-02-03 Skip tests generate noLD issues CRAN. Allow NULL title argument suppress chart title. Add strip.horizontal argument qic().","code":""},{"path":"/news/index.html","id":"qicharts2-023","dir":"Changelog","previous_headings":"","what":"qicharts2 0.2.3","title":"qicharts2 0.2.3","text":"CRAN release: 2017-12-16 Skip tests generate noLD issues CRAN.","code":""},{"path":"/news/index.html","id":"qicharts2-022","dir":"Changelog","previous_headings":"","what":"qicharts2 0.2.2","title":"qicharts2 0.2.2","text":"Fix time zone warnings Windows environment.","code":""},{"path":"/news/index.html","id":"qicharts2-021","dir":"Changelog","previous_headings":"","what":"qicharts2 0.2.1","title":"qicharts2 0.2.1","text":"CRAN release: 2017-12-08 Fix x axis error dates crosses summer/winter time.","code":""},{"path":"/news/index.html","id":"qicharts2-020","dir":"Changelog","previous_headings":"","what":"qicharts2 0.2.0","title":"qicharts2 0.2.0","text":"CRAN release: 2017-11-19 Import dplyr >= 0.7.0 Fix calculation control limits xbar chart qic() freeze exclude argument. C chart ignores agg.fun argument.","code":""},{"path":"/news/index.html","id":"qicharts2-011","dir":"Changelog","previous_headings":"","what":"qicharts2 0.1.1","title":"qicharts2 0.1.1","text":"CRAN release: 2017-08-28 First release.","code":""}]
